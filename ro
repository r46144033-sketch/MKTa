import React, { useState } from 'react';
import { Star, MapPin, Phone, Globe, Clock, Share2, Bookmark, Navigation, Search, Menu, X, MessageCircle, ThumbsUp, Image as ImageIcon } from 'lucide-react';

export default function GoogleMapsMockup() {
  const [activeTab, setActiveTab] = useState('overview');

  // æ¨¡æ“¬å•†å®¶è³‡æ–™ - ç¶“é SEO å„ªåŒ–çš„å…§å®¹
  const businessData = {
    name: "å…¨é½¡è¼”å…·é«”é©—å±•ç¤ºä¸­å¿ƒ | è¼ªæ¤…ãƒ»é›»å‹•åºŠãƒ»é•·ç…§è£œåŠ©è«®è©¢",
    rating: 4.9,
    reviewCount: 486, // æ›´æ–°ç‚ºåœ–ç‰‡ä¸­çš„è©•è«–æ•¸
    category: "é†«ç™‚å™¨æä¾›æ‡‰å•†",
    address: "704å°å—å¸‚æ±å€é•·æ¦®è·¯å››æ®µ", // æ›´æ–°ç‚ºæ‚¨æŒ‡å®šçš„åœ°å€
    phone: "07-123-4567",
    website: "www.anju-care-demo.com",
    hours: "ç‡Ÿæ¥­ä¸­ â‹… æ‰“çƒŠæ™‚é–“ï¼š21:00",
    description: "ã€å°ˆæ¥­è¦ªåˆ‡ï¼Œé«”é©—ç’°å¢ƒèˆ’é©ã€‘ç¾å ´å±•ç¤ºå¤šæ¬¾äººé«”å·¥å­¸è¼ªæ¤…ã€å±…å®¶é›»å‹•è­·ç†åºŠã€‚é§é»ç‰©ç†æ²»ç™‚å¸«æä¾›å…è²»é©é…è©•ä¼°ã€‚å°ˆäººå”åŠ©è¾¦ç†é•·ç…§ 2.0 è¼”å…·è£œåŠ©ç”³è«‹ã€‚æ­¡è¿é ç´„è©¦èººé«”é©—ã€‚",
    attributes: ["æä¾›ç„¡éšœç¤™å…¥å£", "è¨­æœ‰æ€§åˆ¥å‹å–„å»æ‰€", "éœ€é ç´„åƒè§€", "æä¾›åˆ°åºœè©•ä¼°"],
    posts: [
      {
        id: 1,
        date: "2 å¤©å‰",
        title: "ğŸ‘´ é•·ç…§ 2.0 è£œåŠ©ç”³è«‹æ•™å­¸è¬›åº§",
        content: "æä¸æ‡‚è¼”å…·è£œåŠ©æ€éº¼ç”³è«‹å—ï¼Ÿæœ¬é€±æœ«ä¸‹åˆ 2 é»ï¼Œæˆ‘å€‘é‚€è«‹å°ˆæ¥­ç¤¾å·¥å¸«ç¾å ´è§£èªªï¼Œæ•™æ‚¨å¦‚ä½•çœä¸‹æœ€é«˜ 70% çš„è¼”å…·è²»ç”¨ï¼åé¡æœ‰é™ï¼Œè«‹ç§è¨Šå ±åã€‚",
        imageColor: "bg-orange-100",
        action: "ç«‹å³å ±å"
      },
      {
        id: 2,
        date: "5 å¤©å‰",
        title: "æ–°å“ä¸Šå¸‚ï¼šè¶…è¼•é‡ç¢³çº–ç¶­è¼ªæ¤…",
        content: "é‡é‡åƒ… 8.9 å…¬æ–¤ï¼é©åˆé »ç¹å¤–å‡ºå°±é†«ã€æ—…éŠçš„é•·è¼©ã€‚ç¨å®¶é¿éœ‡ç³»çµ±ï¼Œæ­¡è¿å¸¶å®¶ä¸­é•·è¼©ä¾†ç¾å ´è©¦ä¹˜ã€‚",
        imageColor: "bg-blue-100",
        action: "æŸ¥çœ‹è©³æƒ…"
      }
    ],
    reviews: [
      {
        id: 1,
        user: "é™³å°ç¾",
        rating: 5,
        time: "2 é€±å‰",
        text: "å¸¶çˆ¸çˆ¸ä¾†æŒ‘é¸**é›»å‹•è­·ç†åºŠ**ï¼Œåº—å“¡éå¸¸å°ˆæ¥­ï¼Œè©³ç´°è§£èªªäº†**ä¸‰é¦¬é”**å’Œ**äºŒé¦¬é”**çš„å·®åˆ¥ã€‚ç¾å ´é‚„å¯ä»¥ç›´æ¥è©¦èººï¼Œæœ€å¾Œæˆ‘å€‘é¸äº†é©åˆçˆ¸çˆ¸è„Šæ¤æ”¯æ’çš„æ¬¾å¼ã€‚åº—é•·é‚„ä¸»å‹•æ•™æˆ‘å€‘æ€éº¼ç”³è«‹**é•·ç…§è£œåŠ©**ï¼Œçœäº†ä¸å°‘éŒ¢ï¼Œå¤§æ¨ï¼",
        response: "æ¥­ä¸»å›è¦†ï¼šè¬è¬é™³å°å§çš„è©³ç´°è©•è«–ï¼å¾ˆé«˜èˆˆçˆ¸çˆ¸èƒ½æŒ‘åˆ°æ»¿æ„çš„é›»å‹•åºŠã€‚è‹¥å¾ŒçºŒæœ‰ç”³è«‹é•·ç…§è£œåŠ©çš„æ ¸éŠ·å•é¡Œï¼Œéš¨æ™‚æ­¡è¿æ‰“é›»è©±å›ä¾†è©¢å•å–”ï¼"
      },
      {
        id: 2,
        user: "Lin David",
        rating: 5,
        time: "1 å€‹æœˆå‰",
        text: "æ‰¾äº†å¥½å¹¾å®¶åº—ï¼Œé€™è£¡çš„**çˆ¬æ¢¯æ©Ÿ**æ¬¾å¼æœ€é½Šå…¨ã€‚åŸæœ¬æ“”å¿ƒè²·äº†ä¸æœƒç”¨ï¼Œé‚„å¥½æœ‰ç‰©ç†æ²»ç™‚å¸«ç¾å ´æ•™å­¸ï¼Œä¸¦è®“æˆ‘å€‘å¯¦éš›æ“ä½œé«”é©—ã€‚**ç„¡éšœç¤™åœè»Š**å¾ˆæ–¹ä¾¿ï¼Œæ¨è¼ªæ¤…é€²å»å®Œå…¨æ²’éšœç¤™ã€‚",
        response: "æ¥­ä¸»å›è¦†ï¼šæ„Ÿè¬æ‚¨çš„è‚¯å®šï¼æ“ä½œçˆ¬æ¢¯æ©Ÿçš„å®‰å…¨æ˜¯æˆ‘å€‘æœ€é‡è¦–çš„ï¼Œå¾ˆé«˜èˆˆèƒ½è§£æ±ºæ‚¨ä¸Šä¸‹æ¨“æ¢¯çš„å›°æ“¾ã€‚"
      }
    ]
  };

  return (
    <div className="flex flex-col h-screen bg-white font-sans text-gray-800 overflow-hidden md:flex-row">
      {/* æ¨¡æ“¬å·¦å´è³‡è¨Šæ¬„ (Information Panel) */}
      <div className="w-full md:w-[420px] h-full flex flex-col border-r border-gray-200 bg-white shadow-xl z-10 overflow-hidden">
        
        {/* Search Bar Mockup */}
        <div className="p-4 border-b border-gray-200 flex items-center shadow-sm z-20 bg-white">
          <Menu className="text-gray-500 mr-4" size={24} />
          <div className="flex-1 bg-white border border-gray-300 rounded-lg flex items-center px-3 py-2 shadow-sm">
            <span className="text-gray-800 text-sm truncate">{businessData.name}</span>
            <X className="ml-auto text-gray-400" size={16} />
          </div>
          <Search className="text-blue-600 ml-3" size={24} />
        </div>

        {/* Scrollable Content */}
        <div className="flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300">
          
          {/* Header Image Area - Updated with simulated photo */}
          <div className="h-56 bg-gray-100 relative group cursor-pointer overflow-hidden">
             {/* æ¨¡æ“¬æ‚¨æä¾›çš„æ˜äº®å±•é–“ç…§ç‰‡ */}
             <img 
               src="https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?q=80&w=800&auto=format&fit=crop" 
               alt="å…¨é½¡è¼”å…·é«”é©—å±•ç¤ºä¸­å¿ƒå…§éƒ¨ç’°å¢ƒ" 
               className="w-full h-full object-cover"
             />
            <div className="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-black/60 to-transparent"></div>
            <div className="absolute bottom-4 left-4 text-white font-bold text-shadow-md pr-4">
              <h1 className="text-2xl drop-shadow-md leading-tight">{businessData.name}</h1>
            </div>
            
             {/* Photo count badge */}
            <div className="absolute bottom-4 right-4 bg-black/50 text-white text-xs px-2 py-1 rounded flex items-center backdrop-blur-sm">
                <ImageIcon size={12} className="mr-1"/>
                <span>128 å¼µç›¸ç‰‡</span>
            </div>
          </div>

          {/* Basic Info Block */}
          <div className="p-5 border-b border-gray-100">
            <div className="flex items-center space-x-1 mb-2">
              <span className="text-orange-500 font-bold text-sm">{businessData.rating}</span>
              <div className="flex text-orange-400">
                {[...Array(5)].map((_, i) => <Star key={i} size={14} fill="currentColor" />)}
              </div>
              <span className="text-gray-500 text-sm">({businessData.reviewCount})</span>
              <span className="text-gray-400 text-sm">â€¢ {businessData.category}</span>
            </div>
            
            <div className="flex justify-between mt-4 mb-2">
              <ActionButton icon={<Navigation size={20} />} label="è·¯ç·š" active />
              <ActionButton icon={<Bookmark size={20} />} label="å„²å­˜" />
              <ActionButton icon={<Phone size={20} />} label="é€šè©±" />
              <ActionButton icon={<Globe size={20} />} label="ç¶²ç«™" />
              <ActionButton icon={<Share2 size={20} />} label="åˆ†äº«" />
            </div>
          </div>

          {/* Details List */}
          <div className="p-5 border-b border-gray-100 space-y-4 text-sm">
            <div className="flex items-start">
              <MapPin className="text-blue-500 mt-0.5 mr-3 flex-shrink-0" size={18} />
              <span className="font-medium text-gray-900">{businessData.address}</span>
            </div>
            <div className="flex items-center">
              <Clock className="text-blue-500 mr-3 flex-shrink-0" size={18} />
              <span className="text-green-600 font-medium">{businessData.hours}</span>
            </div>
            <div className="flex items-center">
              <Globe className="text-blue-500 mr-3 flex-shrink-0" size={18} />
              <span className="text-blue-600 hover:underline cursor-pointer">{businessData.website}</span>
            </div>
             <div className="flex items-start">
              <MessageCircle className="text-blue-500 mt-0.5 mr-3 flex-shrink-0" size={18} />
              <p className="text-gray-600 leading-relaxed">
                {businessData.description}
              </p>
            </div>
          </div>

          {/* SEO Highlight: Updates (Google Posts) */}
          <div className="p-5 border-b border-gray-100 bg-gray-50">
            <h3 className="font-bold text-gray-800 mb-3 flex items-center">
              <span className="bg-blue-600 w-1 h-5 mr-2 rounded-full"></span>
              æœ€æ–°å‹•æ…‹ (Google Posts)
            </h3>
            <div className="space-y-4">
              {businessData.posts.map(post => (
                <div key={post.id} className="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
                  <div className="flex gap-4">
                    <div className={`w-16 h-16 rounded-md flex-shrink-0 ${post.imageColor} flex items-center justify-center overflow-hidden`}>
                       {/* Mock post images */}
                       <div className="w-full h-full bg-gray-200 flex items-center justify-center text-gray-400">
                         <ImageIcon size={20} />
                       </div>
                    </div>
                    <div className="flex-1">
                      <div className="text-xs text-gray-500 mb-1">{post.date}</div>
                      <h4 className="font-bold text-gray-900 text-sm mb-1">{post.title}</h4>
                      <p className="text-xs text-gray-600 line-clamp-2">{post.content}</p>
                      <button className="mt-2 text-blue-600 text-xs font-medium hover:bg-blue-50 px-2 py-1 rounded transition-colors">
                        {post.action}
                      </button>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </div>

          {/* SEO Highlight: Reviews */}
          <div className="p-5 pb-10">
            <h3 className="font-bold text-gray-800 mb-3 flex items-center">
              <span className="bg-orange-500 w-1 h-5 mr-2 rounded-full"></span>
              ç²¾é¸è©•è«– (SEO é—œéµå­—åŸ‹è¨­)
            </h3>
            <div className="space-y-4">
              {businessData.reviews.map(review => (
                <div key={review.id} className="border-b border-gray-100 last:border-0 pb-4">
                  <div className="flex items-center justify-between mb-1">
                    <span className="font-bold text-sm">{review.user}</span>
                    <span className="text-xs text-gray-400">{review.time}</span>
                  </div>
                  <div className="flex text-orange-400 mb-2">
                    {[...Array(review.rating)].map((_, i) => <Star key={i} size={12} fill="currentColor" />)}
                  </div>
                  <p className="text-sm text-gray-700 mb-3">
                    {/* Highlight keywords for demonstration */}
                    {review.text.split(/(\*\*.*?\*\*)/).map((part, index) => 
                      part.startsWith('**') ? 
                      <span key={index} className="bg-yellow-100 text-yellow-800 font-medium px-1 rounded">{part.replace(/\*\*/g, '')}</span> : 
                      part
                    )}
                  </p>
                  {review.response && (
                    <div className="bg-gray-100 p-3 rounded-md text-xs text-gray-600 border-l-4 border-blue-400">
                      {review.response}
                    </div>
                  )}
                </div>
              ))}
            </div>
            <button className="w-full py-2 border border-gray-300 rounded-full text-blue-600 text-sm font-medium hover:bg-blue-50 mt-2">
              æŸ¥çœ‹æ›´å¤šè©•è«–
            </button>
          </div>

        </div>
      </div>

      {/* æ¨¡æ“¬å³å´åœ°åœ–å€åŸŸ (Map Area) */}
      <div className="hidden md:flex flex-1 bg-gray-200 relative overflow-hidden">
        {/* Fake Map Grid */}
        <div className="absolute inset-0 grid grid-cols-12 grid-rows-12 gap-0 opacity-10 pointer-events-none">
          {[...Array(144)].map((_, i) => (
            <div key={i} className="border border-gray-400"></div>
          ))}
        </div>
        
        {/* Map Elements Simulation */}
        <div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center">
           <div className="relative">
             <div className="absolute -top-16 -left-20 bg-white px-4 py-2 rounded-lg shadow-lg border border-gray-200 whitespace-nowrap z-20">
               <p className="font-bold text-sm">{businessData.name}</p>
               <p className="text-xs text-orange-500 font-bold">4.9 â˜…â˜…â˜…â˜…â˜…</p>
               <div className="absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 rotate-45 w-3 h-3 bg-white border-r border-b border-gray-200"></div>
             </div>
             <MapPin size={48} className="text-red-600 drop-shadow-2xl filter" fill="currentColor" />
             <div className="w-4 h-2 bg-black opacity-20 rounded-full blur-sm mx-auto mt-1"></div>
           </div>
        </div>

        {/* Map Controls Mockup */}
        <div className="absolute bottom-6 right-6 flex flex-col space-y-2">
          <div className="bg-white p-2 rounded shadow text-gray-600 hover:text-black cursor-pointer"><Navigation size={20} /></div>
          <div className="bg-white p-2 rounded shadow text-gray-600 hover:text-black cursor-pointer"><ThumbsUp size={20} /></div>
        </div>
      </div>
    </div>
  );
}

function ActionButton({ icon, label, active = false }) {
  return (
    <button className={`flex flex-col items-center justify-center min-w-[60px] py-1 ${active ? 'text-blue-600' : 'text-blue-500 hover:text-blue-700'}`}>
      <div className={`p-2 rounded-full border ${active ? 'bg-blue-600 text-white border-blue-600' : 'border-blue-500'}`}>
        {icon}
      </div>
      <span className="text-xs mt-1 font-medium">{label}</span>
    </button>
  );
}
